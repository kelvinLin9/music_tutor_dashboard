import{_ as $,a as i,c as b,b as e,F as N,k as R,A as D,s as T,x as j,r as h,d as t,w as k,u as c,l as x,e as V,n as _,B as E,i as z,j as A,C as G,f as P,p as J,h as W}from"./index-qN_PaeON.js";import{u as H}from"./user-CMCZhkot.js";const K="/music_tutor_dashboard/assets/login-BMAeJq5u.jpg",O="/music_tutor_dashboard/assets/google-icon-Bp_336oh.png",Q={class:"loadingio-spinner-spinner-dut17ci7nge"},X={class:"ldio-g6c8n0v7cjr"},Y={__name:"ButtonLoading",props:{color:{type:String,default:"#ffffff"}},setup(r){return(d,v)=>(i(),b("div",Q,[e("div",X,[(i(),b(N,null,R(12,w=>e("div",{key:w,style:D({backgroundColor:r.color})},null,4)),64))])]))}},C=$(Y,[["__scopeId","data-v-44814b4d"]]),l=r=>(J("data-v-e5c3723f"),r=r(),W(),r),Z={class:"container-fluid ps-0 position-relative"},ee=l(()=>e("span",null,"樂樂音樂家教媒合平台",-1)),se={class:"row align-items-md-center justify-content-center justify-content-md-start"},oe=l(()=>e("div",{class:"col-6 col-lg-4 d-none d-md-block"},[e("img",{src:K,alt:"登入圖",class:"login-side-img"})],-1)),le={class:"col-12 col-md-6 col-xl-4"},te={key:0,class:"login-wrap d-flex flex-column justify-content-center"},ae=l(()=>e("h1",{class:"mx-auto border-bottom my-16 pb-16 w-75 text-center fs-1"}," 會員登入 ",-1)),ne=["disabled"],ie=l(()=>e("img",{src:O,alt:"google icon",class:"google-icon me-2"},null,-1)),de=l(()=>e("span",{class:"google-login-text"},"使用 Google 登入",-1)),ce=l(()=>e("hr",{class:"mx-auto w-75 mt-16 text-center fs-7 login-hr"},null,-1)),re={class:"mb-3"},me=l(()=>e("label",{for:"email",class:"form-label"}," Email： ",-1)),ue={class:"mb-3"},pe={class:"d-flex justify-content-between align-items-center"},_e=l(()=>e("label",{for:"password",class:"form-label"}," 密碼： ",-1)),fe={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},be={class:"modal-dialog modal-dialog-centered"},ve={class:"modal-content"},ge=l(()=>e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"重設密碼"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),he={class:"modal-body"},we={class:"mb-3"},ye=l(()=>e("label",{for:"resetPasswordEmail",class:"form-label"},"請填寫註冊Email",-1)),ke={class:"modal-footer"},xe={type:"submit",class:"btn btn-dark d-block mx-auto py-3 w-100 d-flex justify-content-center"},Ve=l(()=>e("span",null,"登入",-1)),Ee={class:"mx-auto w-75 my-3 text-center fs-7 text-delete"},Ce={key:1,class:"login-wrap d-flex flex-column justify-content-center"},Le=l(()=>e("h1",{class:"mx-auto border-bottom my-3 pb-2 w-75 text-center"},"會員註冊",-1)),je={class:"mb-3"},Pe=l(()=>e("label",{for:"displayName",class:"form-label"}," 姓名： ",-1)),$e={class:"mb-3"},Se=l(()=>e("label",{for:"email",class:"form-label"}," Email： ",-1)),Be={class:"mb-3"},Ue=l(()=>e("label",{for:"password",class:"form-label"}," 密碼： ",-1)),qe={class:"mb-3"},Me=l(()=>e("label",{for:"confirmation",class:"form-label"}," 再次輸入密碼： ",-1)),Ie={type:"submit",class:"btn btn-dark d-block mx-auto py-3 w-100 d-flex justify-content-center"},Fe=l(()=>e("span",null,"註冊",-1)),Ne={class:"mx-auto w-75 my-3 text-center fs-7 text-delete"},Re={__name:"Login",setup(r){const d=H(),{showLogInPage:v,signupLoading:w,loginLoading:g,isChecked:De}=T(d),S=d.signup,B=d.login;d.checkUser;const U=d.verifyEmail,y=d.resetPasswordEmail,m=j({email:"",password:""}),q=async()=>{const f=await B(m.value);console.log(f),f&&(m.value={email:"",password:""})},a=j({name:"",email:"",password:"",confirmPassword:""}),M=()=>{S(a.value),a.value={name:"",email:"",password:"",confirmPassword:""}},I=()=>{g.value=!0,console.log("https://kelvinlin9.github.io/music_tutor_dashboard/google/callback"),window.location.href="https://accounts.google.com/o/oauth2/v2/auth?client_id=355247902914-5kufc40uo16u3n9k2rnlepgk9vmquret.apps.googleusercontent.com&redirect_uri=https://kelvinlin9.github.io/music_tutor_dashboard/google/callback&response_type=code&scope=email%20profile&access_type=offline"};return(f,s)=>{const F=h("RouterLink"),u=h("VField"),p=h("ErrorMessage"),L=h("VForm");return i(),b("div",Z,[e("h1",null,[t(F,{to:"/",class:"login-logo navbar-brand nav-link d-flex"},{default:k(()=>[ee]),_:1})]),e("div",se,[oe,e("div",le,[c(v)?(i(),b("div",te,[ae,e("button",{type:"button",class:"btn btn-outline-dark d-block mx-auto py-16 d-flex justify-content-center w-75",onClick:s[0]||(s[0]=n=>I()),disabled:c(g)},[ie,de,c(g)?(i(),x(C,{key:0,color:"#000000"})):V("",!0)],8,ne),ce,t(L,{class:"mx-auto w-75",onSubmit:s[7]||(s[7]=n=>q())},{default:k(({errors:n})=>[e("div",re,[me,t(u,{name:"email",id:"email",type:"email",rules:"required|email",class:_(["form-control fs-7",{"is-invalid":n.email}]),placeholder:"請輸入 Email",modelValue:m.value.email,"onUpdate:modelValue":s[1]||(s[1]=o=>m.value.email=o)},null,8,["class","modelValue"]),t(p,{class:"invalid-feedback",name:"email"})]),e("div",ue,[e("div",pe,[_e,e("a",{href:"#",class:"text-delete fs-7",onClick:s[2]||(s[2]=E(o=>c(U)(),["prevent"]))}," 忘記密碼 "),e("div",fe,[e("div",be,[e("div",ve,[ge,e("div",he,[e("div",we,[ye,z(e("input",{type:"email",class:"form-control",id:"resetPasswordEmail",placeholder:"請填寫註冊Email","onUpdate:modelValue":s[3]||(s[3]=o=>G(y)?y.value=o:null)},null,512),[[A,c(y)]])])]),e("div",ke,[e("button",{type:"button",class:"btn btn-primary",onClick:s[4]||(s[4]=(...o)=>f.sendPasswordResetEmail&&f.sendPasswordResetEmail(...o))}," 送出 ")])])])])]),t(u,{name:"密碼",id:"password",type:"password",rules:"required|min:8",class:_(["form-control fs-7",{"is-invalid":n.密碼}]),placeholder:"請輸入密碼",modelValue:m.value.password,"onUpdate:modelValue":s[5]||(s[5]=o=>m.value.password=o)},null,8,["class","modelValue"]),t(p,{class:"invalid-feedback",name:"密碼"})]),e("button",xe,[Ve,c(g)?(i(),x(C,{key:0})):V("",!0)]),e("p",Ee,[P(" 還沒有帳號嗎? "),e("a",{href:"#",class:"d-inline-block",onClick:s[6]||(s[6]=E(o=>v.value=!1,["prevent"]))}," 前往註冊 ")])]),_:1})])):(i(),b("div",Ce,[Le,t(L,{class:"mx-auto w-75",onSubmit:s[13]||(s[13]=n=>M())},{default:k(({errors:n})=>[e("div",je,[Pe,t(u,{name:"姓名",id:"displayName",type:"text",rules:"required",class:_(["form-control fs-7",{"is-invalid":n.姓名}]),placeholder:"請輸入姓名",modelValue:a.value.name,"onUpdate:modelValue":s[8]||(s[8]=o=>a.value.name=o)},null,8,["class","modelValue"]),t(p,{class:"invalid-feedback",name:"姓名"})]),e("div",$e,[Se,t(u,{name:"email",id:"email",type:"email",rules:"required|email",class:_(["form-control fs-7",{"is-invalid":n.email}]),placeholder:"請輸入 Email",modelValue:a.value.email,"onUpdate:modelValue":s[9]||(s[9]=o=>a.value.email=o)},null,8,["class","modelValue"]),t(p,{class:"invalid-feedback",name:"email"})]),e("div",Be,[Ue,t(u,{name:"密碼",id:"password",type:"password",rules:"required|min:8",class:_(["form-control fs-7",{"is-invalid":n.密碼}]),placeholder:"請輸入密碼",modelValue:a.value.password,"onUpdate:modelValue":s[10]||(s[10]=o=>a.value.password=o)},null,8,["class","modelValue"]),t(p,{class:"invalid-feedback",name:"密碼"})]),e("div",qe,[Me,t(u,{name:"驗證密碼",id:"confirmation",type:"password",rules:"required|confirmed:@密碼",class:_(["form-control fs-7",{"is-invalid":n.驗證密碼}]),placeholder:"請再次輸入密碼",modelValue:a.value.confirmPassword,"onUpdate:modelValue":s[11]||(s[11]=o=>a.value.confirmPassword=o)},null,8,["class","modelValue"]),t(p,{class:"invalid-feedback",name:"驗證密碼"})]),e("button",Ie,[Fe,c(w)?(i(),x(C,{key:0})):V("",!0)]),e("p",Ne,[P(" 已經有帳號? "),e("a",{href:"#",class:"d-inline-block",onClick:s[12]||(s[12]=E(o=>v.value=!0,["prevent"]))}," 前往登入 ")])]),_:1})]))])])])}}},Ae=$(Re,[["__scopeId","data-v-e5c3723f"]]);export{Ae as default};
